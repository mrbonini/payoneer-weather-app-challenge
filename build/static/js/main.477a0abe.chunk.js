(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{105:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(13),r=a.n(c),i=a(16),s=a(58),o=a(128),l=a(130),u=a(131),d=a(139),m=a(132),j=a(138),h=a(133),p=a(134),b=a(135),O=a(109),x=a(140),f=a(136),g=a(137),v=a(2),y=Object(o.a)({root:{height:"100vh"}});function C(e){var t=y(),a=e.hasError;return Object(v.jsx)(l.a,{maxWidth:"xl",children:Object(v.jsx)(u.a,{className:t.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:a||"LOADING..."})})}var T=a(22),w=a.n(T),N=a(38),k="App/Weather",_=a(63),A=a.n(_),E=a(64),I=a(39),L=a.n(I);function D(e,t){return L.a.mergeWith(e,t,(function(e,t){if(L.a.isArray(e))return t}))}var R=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.a.get("".concat("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40","&units=").concat("celcius"===t?"metric":"imperial")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t={CONTROL_VIEW:"".concat(e,"/CONTROL_VIEW"),CONTROL_DATA:"".concat(e,"/CONTROL_DATA")};return{controlView:function(e){return{type:t.CONTROL_VIEW,payload:e}},controlData:function(e){return{type:t.CONTROL_DATA,payload:e}}}}}(k),M=W.controlView,S=W.controlData,B=a(40),F={isLoading:!1,hasError:!1,error:void 0,page:0,selectedCard:null},V={city:{},list:[],barCharts:[],selectedTemperature:"fahrenheit"},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(a){var n={view:e,data:t},c={CONTROL_VIEW:"".concat(a,"/CONTROL_VIEW"),CONTROL_DATA:"".concat(a,"/CONTROL_DATA")};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case c.CONTROL_VIEW:D(e,{view:t.payload});break;case c.CONTROL_DATA:D(e,{data:t.payload})}}))}}}(F,V,k),z=function(e){return e.weather||P.initialState},Y=Object(B.a)([z],(function(e){return e.data})),J=Object(B.a)([z],(function(e){return e.view})),X=a(23),q=a(41),G=a.p+"static/media/weather.0e7a6500.jpeg",U=a(30),H=a.n(U),K=Object(o.a)({root:{padding:X.isDesktop?"2em 10em":"2em",background:"aliceblue",height:"100%"},section:{margin:"2em 0"},cardBody:{position:"relative"},cardContent:{marginTop:"4em",marginBottom:"4em"},cardImage:{height:"100%",position:"absolute",maxWidth:"-webkit-fill-available",top:0,left:0,opacity:.5},pageButton:{padding:0},barContainer:{position:"relative",height:"200px",width:"auto",border:"1px solid black",marginBottom:"1em"},cardTitle:{textAlign:"center"},mainText:{fontSize:"2em",fontWeight:600,textAlign:"center"},text:{textAlign:"center",fontSize:"1.25em"}});function Q(e){var t,a,c=Object(i.b)(),r=K(),o=Object(i.c)(J),O=Object(i.c)(Y),x=Object(n.useCallback)((function(e){c(S({selectedTemperature:e.target.value}))}),[]),f=Object(n.useCallback)((function(e){var t=null;if(c(S({barCharts:[]})),c(M({selectedCard:null})),"previous"===e)return t=+o.page-1,c(M({page:t}));t=+o.page+1,c(M({page:t}))}),[o.page]),g=Object(n.useMemo)((function(){var e,t={};return null===O||void 0===O||null===(e=O.list)||void 0===e||e.forEach((function(e){var a;if(null===(a=Object.keys(t))||void 0===a?void 0:a.length){var n=Object.keys(t).find((function(t){return H()(t).isSame(H()(e.dt_txt.split(" ")[0]))}));return n?t[n].push(e):t[e.dt_txt.split(" ")[0]]=[e]}t[e.dt_txt.split(" ")[0]]=[e]})),t}),[O.list]),y=Object(n.useMemo)((function(){return Math.round(Object.keys(g).length/3)}),[3,g]),T=Object(n.useMemo)((function(){var e=[];return Object.keys(g).forEach((function(t,a){3*o.page<=a&&e.length<3&&e.push(Object(s.a)({},t,g[t]))})),e}),[g,o.page]);return Object(n.useEffect)((function(){var e;c((e=O.selectedTemperature,function(){var t=Object(N.a)(w.a.mark((function t(a){var n,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(M({isLoading:!0,selectedCard:null})),t.next=4,R(e);case 4:n=t.sent,c=n.data,200===n.status&&(a(S({city:c.city,list:c.list,barCharts:[]})),a(M({isLoading:!1}))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(M({isLoading:!1,hasError:!0,error:t.t0.message||"It wasnt possible to load the weather data. Please try again later"}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))}),[O.selectedTemperature]),o.isLoading?Object(v.jsx)(C,{}):o.hasError?Object(v.jsx)(C,{hasError:o.error}):Object(v.jsxs)(l.a,{className:r.root,maxWidth:"lg",children:[Object(v.jsxs)(u.a,{className:r.section,container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(v.jsx)(d.a,{value:O.selectedTemperature,onChange:x,children:Object(v.jsx)(m.a,{value:"celcius",control:Object(v.jsx)(j.a,{color:"primary"}),label:"Celcius"})}),Object(v.jsx)(d.a,{value:O.selectedTemperature,onChange:x,children:Object(v.jsx)(m.a,{value:"fahrenheit",control:Object(v.jsx)(j.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"start"})})]}),Object(v.jsxs)(u.a,{className:r.section,container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[0===o.page?Object(v.jsx)("span",{}):Object(v.jsx)(h.a,{className:r.pageButton,onClick:function(){return f("previous")},children:Object(v.jsx)(p.a,{className:"fas fa-arrow-left",color:"primary"})}),+o.page+1>=y?Object(v.jsx)("span",{}):Object(v.jsx)(h.a,{className:r.pageButton,onClick:function(){return f("next")},children:Object(v.jsx)(p.a,{className:"fas fa-arrow-right",color:"primary"})})]}),Object(v.jsx)(u.a,{className:r.section,container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:2,children:(null===T||void 0===T?void 0:T.length)&&T.map((function(e,t){var a,n,r=e[Object.keys(e)[0]][0];return Object(v.jsx)(u.a,{item:!0,xs:10,sm:5,md:4,style:{opacity:o.selectedCard===t?.5:1},onClick:function(){c(S({barCharts:e[Object.keys(e)[0]]})),c(M({selectedCard:t})),q.animateScroll.scrollToBottom()},children:Object(v.jsx)($,{date:H()(r.dt_txt.split(" ")[0]).format("Do of MMM, YYYY"),mainWeather:"Clouds"===(null===(a=r.weather[0])||void 0===a?void 0:a.main)?"fas fa-cloud":"Rain"===(null===(n=r.weather[0])||void 0===n?void 0:n.main)?"fas fa-cloud-rain":"fas fa-sun",temp:"".concat(r.main.temp,"\xb0").concat("celcius"===O.selectedTemperature?"C":"F"),humidity:"".concat(r.main.humidity,"%"),maxTemp:"".concat(r.main.temp_max,"\xb0").concat("celcius"===O.selectedTemperature?"C":"F"),minTemp:"".concat(r.main.temp_min,"\xb0").concat("celcius"===O.selectedTemperature?"C":"F")})},"card-".concat(t))}))}),Object(v.jsxs)(u.a,{className:r.section,container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:1,children:[(null===O||void 0===O||null===(t=O.barCharts)||void 0===t?void 0:t.length)?O.barCharts.map((function(e,t){var a="celcius"===O.selectedTemperature?e.main.temp:(e.main.temp-32)*(5/9);return Object(v.jsx)(u.a,{item:!0,xs:3,sm:2,md:1,children:Object(v.jsx)(Z,{time:e.dt_txt.split(" ")[1],percentage:a,temp:"".concat(X.isDesktop?e.main.temp:Math.round(e.main.temp),"\xb0 ").concat("celcius"===O.selectedTemperature?"C":"F")})},"bar-chart-".concat(t))})):null,Object(v.jsx)(u.a,{container:!0,item:!0,direction:"row",justify:"center",xs:12,children:(null===O||void 0===O||null===(a=O.barCharts)||void 0===a?void 0:a.length)&&!X.isDesktop?Object(v.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return q.animateScroll.scrollToTop()},children:"Back to top"}):null})]})]})}function Z(e){var t=e.percentage,a=e.temp,n=e.time,c=K();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.a,{style:{textAlign:"center"},children:n}),Object(v.jsx)("div",{className:c.barContainer,children:Object(v.jsx)("div",{style:{height:"".concat(t<0?-1*t:t,"%"),background:t<0?"blue":"red",width:"100%",position:"absolute",bottom:t<0?null:0,top:t>0?null:0}})}),Object(v.jsx)(O.a,{style:{textAlign:"center"},children:a})]})}function $(e){var t=e.date,a=e.temp,n=e.humidity,c=e.maxTemp,r=e.minTemp,i=e.mainWeather,s=K();return Object(v.jsx)(x.a,{raised:!0,className:s.cardBody,children:Object(v.jsx)(f.a,{children:Object(v.jsxs)(g.a,{children:[Object(v.jsx)("img",{src:G,className:s.cardImage}),Object(v.jsxs)(u.a,{className:s.cardContent,container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3,children:[Object(v.jsx)(u.a,{item:!0,xs:12,className:s.cardTitle,children:Object(v.jsxs)(O.a,{variant:"h4",children:["Munich, DE ",Object(v.jsx)(p.a,{style:{width:"2em"},className:i})]})}),Object(v.jsx)(u.a,{item:!0,xs:12}),Object(v.jsx)(u.a,{item:!0,xs:12,children:Object(v.jsxs)(O.a,{className:s.mainText,children:[" ",t," "]})}),Object(v.jsxs)(u.a,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"center",xs:12,children:[Object(v.jsx)(u.a,{item:!0,xs:6,children:Object(v.jsxs)(O.a,{className:s.text,style:{fontSize:"2em"},children:[Object(v.jsx)(p.a,{className:"fas fa-tint"})," ",n]})}),Object(v.jsx)(u.a,{item:!0,xs:6,children:Object(v.jsxs)(O.a,{className:s.text,style:{fontSize:X.isDesktop?"2em":"1.5em"},children:[Object(v.jsx)(p.a,{className:"fas fa-temperature-low"}),a]})})]}),Object(v.jsx)(u.a,{item:!0,xs:12,className:s.text,children:Object(v.jsx)("b",{children:"Max temperature:"})}),Object(v.jsxs)(O.a,{className:s.text,children:[" ",c," "]}),Object(v.jsx)(u.a,{item:!0,xs:12,className:s.text,children:Object(v.jsx)("b",{children:"Min temperature:"})}),Object(v.jsxs)(O.a,{className:s.text,children:[" ",r," "]})]})]})})})}var ee=a(18),te=a(65),ae=Object(ee.b)({weather:P}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.c,ce=Object(ee.d)((function(e,t){return ae(e,t)}),{},ne(Object(ee.a)(te.a)));a(105);var re=function(){return Object(v.jsx)(i.a,{store:ce,children:Object(v.jsx)(Q,{})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,142)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};a(106),a(107);r.a.render(Object(v.jsx)(re,{}),document.getElementById("root")),ie()}},[[108,1,2]]]);
//# sourceMappingURL=main.477a0abe.chunk.js.map